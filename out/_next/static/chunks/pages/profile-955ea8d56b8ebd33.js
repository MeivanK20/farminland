(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{6896:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return a(9756)}])},895:function(e,t,a){"use strict";a.d(t,{I:function(){return l},db:function(){return s}});var n=a(3977),r=a(2370),i=a(9828);let u=(0,n.ZF)({apiKey:"AIzaSyARkaxOazpDx4wcJp1QdB5rf-Zp_JkTAN8",authDomain:"farminland-471ed.firebaseapp.com",projectId:"farminland-471ed",storageBucket:"farminland-471ed.appspot.com",messagingSenderId:"827181575858",appId:"1:827181575858:web:65180613dea356a9e563ab"}),l=(0,r.v0)(u),s=(0,i.ad)(u)},9756:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});var n=a(5893),r=a(7294),i=a(895),u=a(2370),l=a(9828);function s(){let[e,t]=(0,r.useState)(null),[a,s]=(0,r.useState)(""),[o,d]=(0,r.useState)(""),[c,p]=(0,r.useState)("agriculteur"),[f,h]=(0,r.useState)("");(0,r.useEffect)(()=>{(0,u.Aj)(i.I,async e=>{if(e){t(e);let a=(0,l.JU)(i.db,"farmers",e.uid),n=await (0,l.QT)(a);if(n.exists()){let e=n.data();s(e.name||""),d(e.bio||""),p(e.type||"agriculteur"),h(e.location||"")}}})},[]);let x=async t=>{t.preventDefault(),e&&(await (0,l.pl)((0,l.JU)(i.db,"farmers",e.uid),{name:a,bio:o,type:c,location:f,uid:e.uid,email:e.email,updatedAt:new Date().toISOString()}),alert("Profil mis \xe0 jour !"))};return e?(0,n.jsxs)("div",{style:{padding:20},children:[(0,n.jsx)("h2",{children:"Mon Profil"}),(0,n.jsxs)("form",{onSubmit:x,children:[(0,n.jsx)("input",{value:a,onChange:e=>s(e.target.value),placeholder:"Nom"}),(0,n.jsx)("br",{}),(0,n.jsx)("textarea",{value:o,onChange:e=>d(e.target.value),placeholder:"Bio"}),(0,n.jsx)("br",{}),(0,n.jsxs)("select",{value:c,onChange:e=>p(e.target.value),children:[(0,n.jsx)("option",{value:"agriculteur",children:"Agriculteur"}),(0,n.jsx)("option",{value:"\xe9leveur",children:"\xc9leveur"})]}),(0,n.jsx)("br",{}),(0,n.jsx)("input",{value:f,onChange:e=>h(e.target.value),placeholder:"Localisation"}),(0,n.jsx)("br",{}),(0,n.jsx)("button",{type:"submit",children:"Enregistrer"})]})]}):(0,n.jsx)("p",{children:"Connexion requise."})}}},function(e){e.O(0,[16,290,554,888,774,179],function(){return e(e.s=6896)}),_N_E=e.O()}]);